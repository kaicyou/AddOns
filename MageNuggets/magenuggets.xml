<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
 <Script file="magenuggets.lua" ></Script>

 <Frame name="MageNuggets">
    <Scripts>
		<OnLoad>
            self.TimeSinceLastUpdate = 0
            mageNuggets_OnStart(self);
        </OnLoad>
		<OnUpdate>
            MageNuggets_OnUpdate(self, elapsed)
        </OnUpdate>
		<OnEvent>
            MageNuggets_OnEvent(self, event, ...);
        </OnEvent>
	    </Scripts>
 </Frame>

 <Frame name="MageNugInfo_Frame" parent="UIParent" hidden="false" enableMouse="false" movable="false">
    <Size x="300" y="100" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\MORPHEUS.ttf" outline="THICK" inherits="GameFontNormal">
                <FontHeight>
                   <AbsValue val="38"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
     <Frames>

    </Frames>
    <Scripts>
        <OnLoad>
            self.TimeSinceLastUpdate = 0;
        </OnLoad>
	    <OnUpdate>
           -- MageNuggetsInfo_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugMoonkinToggle_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="200" y="120" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="13"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="3" right="4" top="4" bottom="3"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Mage Nuggets">
                <Anchors>
                    <Anchor point="TOP" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="-10"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="12"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Enable the Moonkin frame?">
                <Anchors>
                    <Anchor point="CENTER" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="18"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
     <Frames>
        <Button name="$parentButton1" inherits="OptionsButtonTemplate" text="Yes">
	        <Size>
               <AbsDimension x="60" y="25"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="-35" y="40"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugMoonkinOptionFrame_CheckButton:SetChecked(false);
                    MNmoonkinToggle();
                    MageNugMoonkinToggle_Frame:Hide();
                </OnClick>
	        </Scripts>
        </Button>
        <Button name="$parentButton2" inherits="OptionsButtonTemplate" text="No">
	        <Size>
               <AbsDimension x="60" y="25"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="35" y="40"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugMoonkinOptionFrame_CheckButton:SetChecked(true);
                    MNmoonkinToggle();
                    MageNugMoonkinToggle_Frame:Hide();
                </OnClick>
	        </Scripts>
        </Button>
        <Button name="$parentButton3" inherits="OptionsButtonTemplate" text="Never Show Again">
	        <Size>
               <AbsDimension x="140" y="30"/>
            </Size>
            <Anchors>
		        <Anchor point="CENTER">
			        <Offset>
				       <AbsDimension x="0" y="-40"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugMoonkinOptionFrame_CheckButton0:SetChecked(false);
                    MageNuggets.moonkinBoxTog = false;
                    MageNugMoonkinToggle_Frame:Hide();
                </OnClick>
	        </Scripts>
        </Button>
    </Frames>
    <Scripts>
       <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
       </OnLoad>
	   <OnDragStart> MNLockFrames(self);</OnDragStart>
	   <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
    </Scripts>
</Frame>

<Frame name="MageNugIgnite_Frame" parent="UIParent" frameStrata="LOW" hidden="true" enableMouse="true" movable="true">
    <Size x="36" y="36" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop  edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
      <TileSize>
          <AbsValue val="32"/>
      </TileSize>
      <EdgeSize>
          <AbsValue val="10"/>
      </EdgeSize>
      <BackgroundInsets>
          <AbsInset left="2" right="2" top="2" bottom="2"/>
      </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
          <Texture name="$parentTexture" file="Interface\Icons\spell_fire_fireball">
            <Size>
              <AbsDimension x="35" y="35"/>
            </Size>
            <Anchors>
              <Anchor point="CENTER" relativePoint="CENTER" />
            </Anchors>
            <TexCoords left="0" right="1" top="0" bottom="1"/>
          </Texture>
        </Layer>
    </Layers>
    <Frames>
      <StatusBar name="$parent_Bar" frameStrata="MEDIUM" enableMouse="false" inherits="TextStatusBar">
          <Size x="31" y="31"/>
          <Anchors>
              <Anchor point="TOPLEFT" relativeTo="$parent">
                  <Offset>
                      <AbsDimension x="3" y="-2"/>
                  </Offset>
              </Anchor>
          </Anchors>
          <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
          <Scripts>
              <OnLoad>
                 self:SetStatusBarColor(0, 0, 0, 0.6);
                 self:SetMinMaxValues(0,11);
                 self:EnableMouse(false);
              </OnLoad>
          </Scripts>
      </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.ignite_point, _, MageNuggets_Frames.ignite_relativePoint, MageNuggets_Frames.ignite_xOfs, MageNuggets_Frames.ignite_yOfs = MageNugIgnite_Frame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
           MageNuggetsFireblast_OnUpdate(self, elapsed);
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugIgnite_TextFrame" parent="MageNugIgnite_Frame" frameStrata="HIGH" hidden="false" enableMouse="false" movable="true">
    <Size x="36" y="36" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Layers>
        <Layer level="OVERLAY">
          <Texture name="$parentTexture" file="Interface\BUTTONS\UI-AutoCastableOverlay">
            <Size>
              <AbsDimension x="65" y="65"/>
            </Size>
            <Anchors>
              <Anchor point="CENTER" relativePoint="CENTER" />
            </Anchors>

          </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.ttf" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="1" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="18"/>
                </FontHeight>
                <Color r="1" g="1" b="1"/>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="left">
                        <Offset>
                           <AbsDimension x="10" y="-11"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
</Frame>


<Frame name="MageNugNova_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="36" y="36" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
      <TileSize>
            <AbsValue val="32" />
        </TileSize>
       <EdgeSize>
            <AbsValue val="10" />
        </EdgeSize>
       <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2" />
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
           <Texture name="$parentTexture" file="Interface\Icons\spell_mage_icenova">
               <Size>
                    <AbsDimension x="35" y="35" />
                </Size>
               <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" />
                </Anchors>
                <TexCoords left="0" right="1" top="0" bottom="1" />
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parent_Text" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER">
                        <Offset>
                           <AbsDimension x="2" y="-4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="24"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="0" g="0" b="0"/>
                </Shadow>
                <color r="1" g="1" b="1"/>
            </FontString>
            <FontString name="$parent_Text2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER">
                        <Offset>
                           <AbsDimension x="1" y="-20"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="0" g="0" b="0"/>
                </Shadow>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_Bar" frameStrata="LOW" inherits="TextStatusBar">
            <Size x="33" y="7"/>
            <Anchors>
                <Anchor point="BOTTOM" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="0" y="-5"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(0, 0.1, 1)
                   self:SetMinMaxValues(0,25)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0;
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.nova_point, _, MageNuggets_Frames.nova_relativePoint, MageNuggets_Frames.nova_xOfs, MageNuggets_Frames.nova_yOfs = MageNugNova_Frame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MNNova_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>


<Frame name="MageNugAB_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="36" y="36" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
       <TileSize>
            <AbsValue val="32" />
        </TileSize>
       <EdgeSize>
            <AbsValue val="10" />
        </EdgeSize>
       <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2" />
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
           <Texture name="$parentTexture" file="Interface\Icons\spell_arcane_arcane01">
               <Size>
                    <AbsDimension x="35" y="35" />
                </Size>
               <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" />
                </Anchors>
                <TexCoords left="0" right="1" top="0" bottom="1" />
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER">
                        <Offset>
                           <AbsDimension x="7" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="30"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="0" g="0" b="0"/>
                </Shadow>
            </FontString>
            <FontString name="$parentText1" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="TOPLEFT">
                        <Offset>
                           <AbsDimension x="3" y="-4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="255" g="255" b="255"/>
                </Shadow>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.ab_point, _, MageNuggets_Frames.ab_relativePoint, MageNuggets_Frames.ab_xOfs, MageNuggets_Frames.ab_yOfs = MageNugAB_Frame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MageNuggetsAB_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MNabCast_Frame" parent="MageNugAB_Frame" hidden="false">
    <Size x="36" y="13" />
    <Anchors>
        <Anchor point="TOP" relativeTo="$parent">
        <Offset>
            <AbsDimension x="0" y="11"/>
        </Offset>
        </Anchor>
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="10"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="1" right="1" top="1" bottom="1"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnEnter>
			GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
			GameTooltip:AddLine("Cast Time")
			GameTooltip:Show()
		</OnEnter>
		<OnLeave>
			GameTooltip:Hide()
		</OnLeave>
    </Scripts>
</Frame>

<Frame name="MageNugProcFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="8"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\Fire_Horizontal_Frame">
                <Size>
                    <AbsDimension x="205" y="65"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\ability_ironmaidens_grapeshotblast">
                <Size>
                    <AbsDimension x="26" y="26"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="2" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="10" y="3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="13"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="BOTTOMRIGHT">
                        <Offset>
                           <AbsDimension x="-3" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="6"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_ProcBar" inherits="TextStatusBar">
            <Size x="120" y="8"/>
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="27" y="2"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Layers>
                <Layer level="OVERLAY">
				<Texture name="$parentSpark" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
					<Size>
						<AbsDimension x="20" y="20"/>
					</Size>
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			    </Layer>
            </Layers>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0, 0)
                   self:SetMinMaxValues(0,14)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.hs_point, _, MageNuggets_Frames.hs_relativePoint, MageNuggets_Frames.hs_xOfs, MageNuggets_Frames.hs_yOfs = MageNugProcFrame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MageNuggetsHS_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugProcHUFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="8"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\Fire_Horizontal_Frame">
                <Size>
                    <AbsDimension x="205" y="65"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\ability_Mage_HotStreak">
                <Size>
                    <AbsDimension x="26" y="26"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="2" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="10" y="3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="13"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="BOTTOMRIGHT">
                        <Offset>
                           <AbsDimension x="-3" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="6"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_ProcBar" inherits="TextStatusBar">
            <Size x="120" y="8"/>
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="27" y="2"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Layers>
                <Layer level="OVERLAY">
				<Texture name="$parentSpark" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
					<Size>
						<AbsDimension x="20" y="20"/>
					</Size>
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			    </Layer>
            </Layers>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0, 0)
                   self:SetMinMaxValues(0,8)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.hu_point, _, MageNuggets_Frames.hu_relativePoint, MageNuggets_Frames.hu_xOfs, MageNuggets_Frames.hu_yOfs = MageNugProcHUFrame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MageNuggetsHU_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>


<Frame name="MageNugPolyFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="140" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="6"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="1" right="1" top="1" bottom="1"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
         <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\MetalEternium_Horizontal_Frame">
                <Size>
                    <AbsDimension x="188" y="69"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\Spell_magic_polymorphrabbit">
                <Size>
                    <AbsDimension x="23" y="23"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="4" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="10" y="2"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentTimerText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="TOPRIGHT">
                        <Offset>
                           <AbsDimension x="-5" y="-3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="9"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_Bar" inherits="TextStatusBar">
            <Size x="110" y="4"/>
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="27" y="2"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Layers>
            </Layers>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0, 0)
                   self:SetMinMaxValues(0,50)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.poly_point, _, MageNuggets_Frames.poly_relativePoint, MageNuggets_Frames.poly_xOfs, MageNuggets_Frames.poly_yOfs = MageNugPolyFrame:GetPoint();
        </OnDragStop>
        <OnUpdate>
            MageNuggetsPoly_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugBFProcFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="8"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\Water_Horizontal_Frame">
                <Size>
                    <AbsDimension x="205" y="65"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\Ability_mage_brainfreeze">
                <Size>
                    <AbsDimension x="26" y="26"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="2" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentCountText" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                           <AbsDimension x="6" y="-3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="22"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="0" g="0" b="0"/>
                </Shadow>
            </FontString>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="10" y="3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="13"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="BOTTOMRIGHT">
                        <Offset>
                           <AbsDimension x="-3" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="6"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_ProcBar" inherits="TextStatusBar">
            <Size x="120" y="8"/>
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="27" y="2"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Layers>
            <Layer level="OVERLAY">
				<Texture name="$parentSpark" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
					<Size>
						<AbsDimension x="20" y="20"/>
					</Size>
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			</Layer>
            </Layers>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0, 0)
                   self:SetMinMaxValues(0,14)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.bf_point, _, MageNuggets_Frames.bf_relativePoint, MageNuggets_Frames.bf_xOfs, MageNuggets_Frames.bf_yOfs = MageNugBFProcFrame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MageNuggetsBF_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugCauterizeFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="220" y="40" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="8"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\Fire_Horizontal_Frame">
                <Size>
                    <AbsDimension x="300" y="90"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\spell_fire_rune">
                <Size>
                    <AbsDimension x="36" y="36"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <Texture name="$parentTexture" file="Interface\Icons\spell_fire_rune">
                <Size>
                    <AbsDimension x="36" y="36"/>
                </Size>
                <Anchors>
                    <Anchor point="RIGHT">
                        <Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="CAUTERIZE:">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="6"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="13"/>
                </FontHeight>
                <color r="1" g="0" b="0"/>
            </FontString>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="extinguish yourself!">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="-9"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="13"/>
                </FontHeight>
                <color r="1" g="0" b="0"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>

    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
           -- MageNugCauterizeFrame:SetScale(1.5);
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.caut_point, _, MageNuggets_Frames.caut_relativePoint, MageNuggets_Frames.caut_xOfs, MageNuggets_Frames.caut_yOfs = MageNugCauterizeFrame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            --MageNuggetsBF_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>


<Frame name="MageNugMBProcFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background"  tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="8"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\GMChatFrame\UI-GMStatusFrame-Pulse">
                <Size>
                    <AbsDimension x="188" y="50"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <Texture name="$parentTexture" file="Interface\Icons\ability_Mage_MissileBarrage">
                <Size>
                    <AbsDimension x="26" y="26"/>
                </Size>
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                            <AbsDimension x="2" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="12" y="3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="11"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="BOTTOMRIGHT">
                        <Offset>
                           <AbsDimension x="-3" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="6"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
            <FontString name="$parent_CountText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="2">
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                           <AbsDimension x="9" y="-2"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="22"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_ProcBar" frameStrata="MEDIUM" inherits="TextStatusBar">
            <Size x="120" y="8"/>
            <Anchors>
                <Anchor point="BOTTOMLEFT" relativeTo="$parent">
                    <Offset>
                        <AbsDimension x="27" y="2"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Layers>
                <Layer level="OVERLAY">
				<Texture name="$parentSpark" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
					<Size>
						<AbsDimension x="20" y="20"/>
					</Size>
					<Anchors>
						<Anchor point="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			    </Layer>
            </Layers>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0.1, 1)
                   self:SetMinMaxValues(0,20)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.mb_point, _, MageNuggets_Frames.mb_relativePoint, MageNuggets_Frames.mb_xOfs, MageNuggets_Frames.mb_yOfs = MageNugMBProcFrame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MageNuggetsMB_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugFoFProcFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
  <Size x="150" y="30" />
   <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
   <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
       <TileSize>
            <AbsValue val="32" />
        </TileSize>
        <EdgeSize>
            <AbsValue val="8" />
        </EdgeSize>
       <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2" />
        </BackgroundInsets>
   </Backdrop>
 <Layers>
    <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\UNITPOWERBARALT\Ice_Horizontal_Frame">
                <Size>
                    <AbsDimension x="200" y="59"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
    </Layer>
    <Layer level="ARTWORK">
       <Texture name="$parentTexture" file="Interface\Icons\Ability_Mage_Wintersgrasp">
       <Size>
            <AbsDimension x="26" y="26" />
        </Size>
       <Anchors>
       <Anchor point="LEFT">
        <Offset>
            <AbsDimension x="2" y="0" />
        </Offset>
        </Anchor>
        </Anchors>
        </Texture>
        <FontString name="$parentCountText" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="LEFT">
                        <Offset>
                           <AbsDimension x="6" y="-3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="22"/>
                </FontHeight>
                 <Shadow>
                    <offset>
                       <AbsDimension x="1" y="1"/>
                    </offset>
                    <color r="0" g="0" b="0"/>
                </Shadow>
        </FontString>
        <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
       <Anchors>
           <Anchor point="CENTER">
           <Offset>
                <AbsDimension x="10" y="3" />
            </Offset>
            </Anchor>
        </Anchors>
       <FontHeight>
             <AbsValue val="11" />
        </FontHeight>
    </FontString>
   <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
       <Anchors>
           <Anchor point="BOTTOMRIGHT">
           <Offset>
                <AbsDimension x="-3" y="4" />
            </Offset>
            </Anchor>
        </Anchors>
       <FontHeight>
            <AbsValue val="6" />
        </FontHeight>
        <color r="1" g="1" b="1" />
    </FontString>
    </Layer>
    </Layers>
 <Frames>
   <StatusBar name="$parent_ProcBar" inherits="TextStatusBar">
      <Size x="120" y="8" />
       <Anchors>
           <Anchor point="BOTTOMLEFT" relativeTo="$parent">
               <Offset>
                    <AbsDimension x="27" y="2" />
                </Offset>
            </Anchor>
        </Anchors>
        <BarTexture file="Interface\TargetingFrame\UI-StatusBar" />
       <Layers>
       <Layer level="OVERLAY">
           <Texture name="$parentSpark" file="Interface\CastingBar\UI-CastingBar-Spark" alphaMode="ADD">
               <Size>
                    <AbsDimension x="20" y="20" />
                </Size>
           <Anchors>
    <Anchor point="BOTTOMLEFT" />
    </Anchors>
  </Texture>
  </Layer>
  </Layers>
 <Scripts>
        <OnLoad>self:SetStatusBarColor(1, 1, 1) self:SetMinMaxValues(0,14)</OnLoad>
  </Scripts>
  </StatusBar>
  </Frames>
   <Scripts>
        <OnLoad>self:RegisterForDrag("LeftButton"); self.TimeSinceLastUpdate = 0</OnLoad>
        <OnDragStart>MNLockFrames(self);</OnDragStart>
        <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.fof_point, _, MageNuggets_Frames.fof_relativePoint, MageNuggets_Frames.fof_xOfs, MageNuggets_Frames.fof_yOfs = MageNugFoFProcFrame:GetPoint();
        </OnDragStop>
        <OnEnter>Monitors_OnEnter()</OnEnter>
        <OnLeave>GameTooltip:Hide()</OnLeave>
        <OnUpdate>MageNuggetsFoF_OnUpdate(self, elapsed)</OnUpdate>
    </Scripts>
  </Frame>

<Frame name="MNSpellSteal_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="70" />
    <Anchors>
         <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <BackgroundInsets>
            <AbsInset left="1" right="1" top="1" bottom="1"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\GMChatFrame\UI-GMStatusFrame-Pulse">
                <Size>
                    <AbsDimension x="180" y="131"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentTitleText" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal" text="S P E L L S T E A L">
                <Anchors>
			        <Anchor point="TOP" relativeTo="$parent">
			           	<Offset><AbsDimension x="0" y="-5"/></Offset>
                    </Anchor>
			    </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentBuffText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
			        <Anchor point="TOP" relativeTo="$parentTitleText">
			           	<Offset><AbsDimension x="0" y="-15"/></Offset>
                    </Anchor>
			    </Anchors>
                <FontHeight>
                   <AbsValue val="9"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad> self:RegisterForDrag("LeftButton"); </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.spellsteal_point, _, MageNuggets_Frames.spellsteal_relativePoint, MageNuggets_Frames.spellsteal_xOfs, MageNuggets_Frames.spellsteal_yOfs = MNSpellSteal_Frame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
    </Scripts>
</Frame>

<Frame name="MNSpellStealFocus_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="150" y="50" />
    <Anchors>
         <Anchor point="CENTER"/>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <BackgroundInsets>
            <AbsInset left="1" right="1" top="1" bottom="1"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="OVERLAY">
            <Texture name="$parentTextureBorder" file="Interface\GMChatFrame\UI-GMStatusFrame-Pulse">
                <Size>
                    <AbsDimension x="180" y="100"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentTitleText" font="Fonts\FRIZQT__.TTF" outline="THICK" inherits="GameFontNormal" text="FOCUS SPELLSTEAL">
                <Anchors>
			        <Anchor point="TOP" relativeTo="$parent">
			           	<Offset><AbsDimension x="0" y="-5"/></Offset>
                    </Anchor>
			    </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentBuffText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
			        <Anchor point="TOP" relativeTo="$parentTitleText">
			           	<Offset><AbsDimension x="0" y="-15"/></Offset>
                    </Anchor>
			    </Anchors>
                <FontHeight>
                   <AbsValue val="9"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad> self:RegisterForDrag("LeftButton"); </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.spellstealfocus_point, _, MageNuggets_Frames.spellstealfocus_relativePoint, MageNuggets_Frames.spellstealfocus_xOfs, MageNuggets_Frames.spellstealfocus_yOfs = MNSpellStealFocus_Frame:GetPoint();
        </OnDragStop>
        <OnEnter> Monitors_OnEnter() </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
    </Scripts>
</Frame>


<Frame name="MageNugCauterize_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x= "120" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="1"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture1" file="Interface\Icons\spell_fire_rune">
                <Size>
                    <AbsDimension x="15" y="15"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT">
                    	<Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parent_Text" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Cauterize">
                 <Anchors>
                    <Anchor point="CENTER" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
            <FontString name="$parent_Text1" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="RIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-2" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_Bar" inherits="TextStatusBar" frameStrata="LOW">
            <Size x="105" y="15"/>
            <Anchors>
                <Anchor point="LEFT" relativeTo="$parentTexture1">
                    <Offset>
                        <AbsDimension x="15" y="0"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(1, 0, 0)
                   self:SetMinMaxValues(0,120)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.cautTimer_point, _, MageNuggets_Frames.cautTimer_relativePoint, MageNuggets_Frames.cautTimer_xOfs, MageNuggets_Frames.cautTimer_yOfs = MageNugCauterize_Frame:GetPoint();
        </OnDragStop>
        <OnUpdate>
            MageNuggetsCauterize_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugMI_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x= "120" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="1"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture1" file="Interface\Icons\spell_magic_lesserinvisibilty">
                <Size>
                    <AbsDimension x="15" y="15"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT">
                    	<Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parent_MIText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Mirror Images">
                 <Anchors>
                    <Anchor point="CENTER" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
            <FontString name="$parent_MIText1" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="RIGHT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="-2" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_MiBar" inherits="TextStatusBar" frameStrata="LOW">
            <Size x="105" y="15"/>
            <Anchors>
                <Anchor point="LEFT" relativeTo="$parentTexture1">
                    <Offset>
                        <AbsDimension x="15" y="0"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(0, 0, 1)
                   self:SetMinMaxValues(0,40)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop>
            self:StopMovingOrSizing();
            self.isMoving = false;
            MageNuggets_Frames.mi_point, _, MageNuggets_Frames.mi_relativePoint, MageNuggets_Frames.mi_xOfs, MageNuggets_Frames.mi_yOfs = MageNugMI_Frame:GetPoint();
        </OnDragStop>
        <OnUpdate>
            MageNuggetsMI_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugMoonkin_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x= "120" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="1"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parent_Texture" file="Interface\Icons\spell_magic_lesserinvisibilty">
                <Size>
                    <AbsDimension x="44" y="44"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT">
                    	<Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parent_Text" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                 <Anchors>
                    <Anchor point="CENTER" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="22" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
              <FontString name="$parent_Text2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                 <Anchors>
                    <Anchor point="LEFT" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="11" y="6"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="32"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_Bar" inherits="TextStatusBar" frameStrata="LOW">
            <Size x="75" y="15"/>
            <Anchors>
                <Anchor point="BOTTOM" relativeTo="$parent_Texture">
                    <Offset>
                        <AbsDimension x="62" y="1"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Scripts>
                <OnLoad>
                   --self:SetStatusBarTexture("Interface\AddOns\MageNuggets\moonkinbar.tga");
                   --self:SetStatusBarColor(0, 0, 1)
                   self:SetMinMaxValues(0,100)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnUpdate>
           MageNuggetsMoonkin_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MNmoonFire_Frame" parent="UIParent" hidden="false" enableMouse="true" movable="true">
    <Size x="26" y="26" />
    <Anchors>
        <Anchor point="CENTER" relativeTo="$parent">
        <Offset>
            <AbsDimension x="20" y="15"/>
        </Offset>
        </Anchor>
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="10"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="4" right="4" top="4" bottom="4"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture" file="Interface\Icons\spell_nature_starfall">
                <Size>
                    <AbsDimension x="25" y="25"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" />
                </Anchors>
                    <TexCoords left="0" right="1" top="0" bottom="1"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="1" y="19"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnEnter>
            if (MageNuggets.toolTips == true) then
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
			    GameTooltip:AddLine("Moonfire")
			    GameTooltip:Show()
            end
        </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MNmoonFire_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MNinsectSwarm_Frame" parent="UIParent" hidden="false" enableMouse="true" movable="true">
    <Size x="26" y="26" />
    <Anchors>
        <Anchor point="CENTER" relativeTo="$parent">
        <Offset>
            <AbsDimension x="20" y="15"/>
        </Offset>
        </Anchor>
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="10"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="4" right="4" top="4" bottom="4"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture" file="Interface\Icons\ability_mage_firestarter">
                <Size>
                    <AbsDimension x="25" y="25"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" />
                </Anchors>
                    <TexCoords left="0" right="1" top="0" bottom="1"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="1" y="19"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnEnter>
            if (MageNuggets.toolTips == true) then
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
			    GameTooltip:AddLine("Sunfire")
			    GameTooltip:Show()
            end
        </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MNinsectSwarm_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MNstarSurge_Frame" parent="UIParent" hidden="false" enableMouse="true" movable="true">
    <Size x="26" y="26" />
    <Anchors>
        <Anchor point="CENTER" relativeTo="$parent">
        <Offset>
            <AbsDimension x="20" y="15"/>
        </Offset>
        </Anchor>
    </Anchors>
    <Backdrop edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="10"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="4" right="4" top="4" bottom="4"/>
        </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture" file="Interface\Icons\spell_arcane_arcane03">
                <Size>
                    <AbsDimension x="25" y="25"/>
                </Size>
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER" />
                </Anchors>
                    <TexCoords left="0" right="1" top="0" bottom="1"/>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER">
                        <Offset>
                           <AbsDimension x="1" y="19"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnEnter>
            if (MageNuggets.toolTips == true) then
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
			    GameTooltip:AddLine("Star Surge")
			    GameTooltip:Show()
            end
        </OnEnter>
        <OnLeave> GameTooltip:Hide() </OnLeave>
        <OnUpdate>
            MNstarSurge_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>




<Frame name="MageNugWE_Frame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x= "120" y="30" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Backdrop tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="1"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="BACKGROUND">
            <Texture name="$parentTexture1" file="Interface\Icons\Spell_Frost_SummonWaterElemental_2">
                <Size>
                    <AbsDimension x="15" y="15"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOMLEFT">
                    	<Offset>
                            <AbsDimension x="0" y="0"/>
                        </Offset>
                    </Anchor>
                </Anchors>
            </Texture>
        </Layer>
        <Layer level="ARTWORK">
            <FontString name="$parent_MIText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Water Elemental">
                 <Anchors>
                    <Anchor point="TOP" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="-3"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
            <FontString name="$parent_WEText1" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER" relativeTo="$parent">
                        <Offset>
                            <AbsDimension x="0" y="-7"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="10"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
        <StatusBar name="$parent_WeBar" inherits="TextStatusBar" frameStrata="LOW">
            <Size x="105" y="15"/>
            <Anchors>
                <Anchor point="LEFT" relativeTo="$parentTexture1">
                    <Offset>
                        <AbsDimension x="15" y="0"/>
                    </Offset>
                </Anchor>
            </Anchors>
            <BarTexture file="Interface\TargetingFrame\UI-StatusBar"/>
            <Scripts>
                <OnLoad>
                   self:SetStatusBarColor(0, 0, 1)
                   self:SetMinMaxValues(0,45)
                </OnLoad>
            </Scripts>
        </StatusBar>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnUpdate>
            MageNuggetsWE_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>

<Frame name="MageNugHordeFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="345" y="125" />
    <Anchors>
        <Anchor point="TOPRIGHT">
            <Offset>
                <AbsDimension x="-200" y="-70"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="13"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Portals">
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                           <AbsDimension x="0" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="11"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Teleport">
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                           <AbsDimension x="0" y="-45"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="11"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText3" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="">
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                           <AbsDimension x="-70" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText4" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="">
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                           <AbsDimension x="-40" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    <Button name="$parentPortDal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="10" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalDalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				local dalport = GetSpellInfo(53142)
                if (dalport ~= nil) then
                    self:SetAttribute("type1", "spell")
				    self:SetAttribute("spell", dalport)
			    end
            </OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortShat" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="40" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalShattrath"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				local shatport = GetSpellInfo(35717)
                if (shatport ~= nil) then
                    self:SetAttribute("type1", "spell")
				    self:SetAttribute("spell", shatport)
			    end
            </OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Shattrath")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortOrg" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="70" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalOrgrimmar"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(11417))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Orgrimmar")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortUC" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="100" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalUndercity"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(11418))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Undercity")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortTB" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="130" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalThunderbluff"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(11420))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Thunder Bluff")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortSMC" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="160" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalSilvermoon"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(32267))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:SilverMoon")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortStonard" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="190" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalStonard"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(49361))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Stonard")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortTol" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="220" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaltolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(88346))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Tol Barad")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
      <Button name="$parentPortVale" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="250" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portal_valeofblossoms"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(132626))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Vale of Eternal Blossoms")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortADal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="280" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaldalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(120146))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Ancient Portal: Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentPortWarspear" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="310" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaltolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(176244))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal: Warspear")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>

    <Button name="$parentTeleDal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="10" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportDalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(53140))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleShat" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="40" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportShattrath"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(35715))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Shattrath")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleOrg" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="70" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportOrgrimmar"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3567))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Orgrimmar")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleUC" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="100" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportUndercity"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3563))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Undercity")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleTB" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="130" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportThunderbluff"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3566))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Thunder Bluff")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleSMC" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="160" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportSilvermoon"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(32272))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Silvermoon")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleStonard" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="190" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportStonard"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(49358))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Stonard")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleTol" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="220" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleporttolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(88344))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Tol Barad")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentTeleVale" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="250" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_valeofblossoms"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(132627))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Vale of Eternal Blossoms")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleADal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="280" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleportdalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(120145))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Ancient Teleport: Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentTeleWarspear" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="310" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleporttolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(176242))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport: Warspear")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>

    <Button name="$parentHearth" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-70" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\inv_misc_rune_01"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(6948))
			</OnLoad>
            <OnEnter>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(6948))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Hearthstone: "..homeLocation)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentGarrisonHearth" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-40" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentGarrisonTexture" file="Interface\Icons\inv_garrison_hearthstone"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(110560))
			</OnLoad>
            <OnEnter>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(110560))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Garrison Hearth")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentInnkeepers" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-100" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\trade_archaeology_theinnkeepersdaughter"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(64488))
			</OnLoad>
            <OnEnter>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(64488))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Innkeeper's Daughter: "..homeLocation)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>

    <Button name="$parentClose" inherits="OptionsButtonTemplate" text="Close">
	        <Size>
               <AbsDimension x="60" y="18"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="20" y="10"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugHordeFrame:Hide();
                </OnClick>
	        </Scripts>
    </Button>
    <Button name="$parentShowOptions" inherits="OptionsButtonTemplate" text="Options">
	        <Size>
               <AbsDimension x="60" y="18"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="90" y="10"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugHordeFrame:Hide();
                    InterfaceOptionsFrame_OpenToCategory("Mage Nuggets");
                </OnClick>
	        </Scripts>
    </Button>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0;
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnShow>
            --local runeofPort = GetItemCount(17032)
           -- local runeofTele = GetItemCount(17031)
			--MageNugHordeFrameText:SetText("Portal:"..runeofPort)
           -- MageNugHordeFrameText2:SetText("Teleport:"..runeofTele)
        </OnShow>
        <OnUpdate>
            updatePortalMenu(self, elapsed);
        </OnUpdate>

    </Scripts>
</Frame>



<Frame name="MageNugAlliFrame" parent="UIParent" hidden="true" enableMouse="true" movable="true">
    <Size x="345" y="125" />
    <Anchors>
        <Anchor point="TOPRIGHT">
            <Offset>
                <AbsDimension x="-200" y="-70"/>
            </Offset>
        </Anchor>
    </Anchors>
    <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
    <TileSize>
        <AbsValue val="32"/>
    </TileSize>
    <EdgeSize>
        <AbsValue val="13"/>
    </EdgeSize>
    <BackgroundInsets>
        <AbsInset left="2" right="2" top="2" bottom="2"/>
    </BackgroundInsets>
    </Backdrop>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Portals">
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                           <AbsDimension x="0" y="-5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="11"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText2" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Teleport">
                <Anchors>
                    <Anchor point="TOP">
                        <Offset>
                           <AbsDimension x="0" y="-45"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="11"/>
                </FontHeight>
            </FontString>
             <FontString name="$parentText3" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="">
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                           <AbsDimension x="-70" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
            </FontString>
            <FontString name="$parentText4" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="">
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                           <AbsDimension x="-40" y="4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="8"/>
                </FontHeight>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    <Button name="$parentPortDal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="10" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalDalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(53142))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortShat" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="40" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalShattrath"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(33691))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Shattrath")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortIF" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="70" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalIronforge"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(11416))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Ironforge")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortSW" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="100" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalStormwind"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				local swport = GetSpellInfo(10059);
                if (swport == nil) then

                else
                    self:SetAttribute("type1", "spell")
	    			self:SetAttribute("spell", GetSpellInfo(10059))
		        end
            </OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Stormwind")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortDarn" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="130" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalDarnassus"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(11419))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Darnassus")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortExo" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="160" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalExodar"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(32266))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Exodar")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortTheramore" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="190" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_PortalTheramore"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(49360))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Theramore")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentPortTol" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="220" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaltolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(88345))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Tol Barad")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentPortVale" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="250" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portal_valeofblossoms"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(132620))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal:Vale of Eternal Blossoms")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentPortADal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="280" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaldalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(120146))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Ancient Portal: Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentPortStormShield" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="310" y="-20"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_portaltolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(176246))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Portal: StormShield")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleDal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="10" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportDalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(53140))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleShat" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="40" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportShattrath"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(33690))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Shattrath")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleIF" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="70" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportIronforge"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3562))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Ironforge")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleSW" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="100" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportStormwind"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3561))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Stormwind")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleDarn" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="130" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportDarnassus"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(3565))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Darnassus")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleExo" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="160" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportExodar"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(32271))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Exodar")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleTheramore" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="190" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportTheramore"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(49359))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Theramore")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleTol" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="220" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleporttolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(88342))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Tol Barad")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>

     <Button name="$parentTeleVale" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="250" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_valeofblossoms"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(132621))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport:Vale of Eternal Blossoms")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleADal" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="280" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleportdalaran"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(120145))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Ancient Teleport: Dalaran")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentTeleStormshield" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="25" y="25"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT">
				<Offset>
					<AbsDimension x="310" y="-60"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\spell_arcane_teleporttolbarad"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "spell")
				self:SetAttribute("spell", GetSpellInfo(176248))
			</OnLoad>
            <OnEnter>
				GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Teleport: StormShield")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>

    <Button name="$parentHearth" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-70" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\inv_misc_rune_01"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(6948))
			</OnLoad>
            <OnEnter>
				self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(6948))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, A5555555555555555555NCHOR_TOPLEFT);
				GameTooltip:AddLine("Hearthstone: "..homeLocation)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentGarrisonHearth" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-40" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentGarrisonTexture" file="Interface\Icons\inv_garrison_hearthstone"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(110560))
			</OnLoad>
            <OnEnter>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(110560))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Garrison Hearth")
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
     <Button name="$parentInnkeepers" inherits="SecureActionButtonTemplate">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM">
				<Offset>
					<AbsDimension x="-100" y="12"/>
				</Offset>
			</Anchor>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture name="$parentTelDalTexture" file="Interface\Icons\trade_archaeology_theinnkeepersdaughter"/>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(64488))
			</OnLoad>
            <OnEnter>
                self:SetAttribute("type1", "item")
				self:SetAttribute("item", GetItemInfo(64488))
                homeLocation = GetBindLocation();
                GameTooltip:SetOwner(self, ANCHOR_TOPLEFT);
				GameTooltip:AddLine("Innkeeper's Daughter: "..homeLocation)
				GameTooltip:Show()
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
			</OnLeave>
		</Scripts>
	</Button>
    <Button name="$parentClose" inherits="OptionsButtonTemplate" text="Close">
	        <Size>
               <AbsDimension x="60" y="18"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="20" y="10"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugAlliFrame:Hide();
                </OnClick>
	        </Scripts>
    </Button>
    <Button name="$parentShowOptions" inherits="OptionsButtonTemplate" text="Options">
	        <Size>
               <AbsDimension x="60" y="18"/>
            </Size>
            <Anchors>
		        <Anchor point="BOTTOM">
			        <Offset>
				       <AbsDimension x="90" y="10"/>
		     	    </Offset>
		        </Anchor>
	        </Anchors>
	        <Scripts>
		        <OnClick>
                    MageNugAlliFrame:Hide();
                    InterfaceOptionsFrame_OpenToCategory("Mage Nuggets");
                </OnClick>
	        </Scripts>
    </Button>
    </Frames>
    <Scripts>
        <OnLoad>
            self:RegisterForDrag("LeftButton");
            self.TimeSinceLastUpdate = 0;
        </OnLoad>
	    <OnDragStart> MNLockFrames(self);</OnDragStart>
	    <OnDragStop> self:StopMovingOrSizing(); self.isMoving = false; </OnDragStop>
        <OnUpdate>
            updatePortalMenu(self, elapsed);
        </OnUpdate>
    </Scripts>
</Frame>


<Frame name="MageNugCombatText_Frame" parent="UIParent" hidden="false">
    <Size x="1" y="1" />
    <Anchors>
        <Anchor point="CENTER" />
    </Anchors>
    <Layers>
        <Layer level="ARTWORK">
            <FontString name="$parent_Text" font="Fonts\FRIZQT__.TTF" outline="NORMAL" inherits="GameFontNormal">
                <Anchors>
                    <Anchor point="CENTER" relativePoint="CENTER">
                        <Offset>
                           <AbsDimension x="2" y="-4"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <FontHeight>
                   <AbsValue val="24"/>
                </FontHeight>
                <color r="1" g="1" b="1"/>
            </FontString>
        </Layer>
    </Layers>
    <Frames>
    </Frames>
    <Scripts>
        <OnLoad>
            MageNugCombatText_Frame:EnableMouse(0);
            self.TimeSinceLastUpdate = 0;
        </OnLoad>
        <OnUpdate>
            MageNuggetsCombatText_OnUpdate(self, elapsed)
        </OnUpdate>
    </Scripts>
</Frame>


</Ui>
